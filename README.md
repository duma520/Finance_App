# 软件截图：

![image](https://github.com/user-attachments/assets/edf52fb5-6aec-4245-a11d-08f7f2c3dc33)

![image](https://github.com/user-attachments/assets/4942ee4d-dd87-4eca-b4a0-4640ae065018)

![image](https://github.com/user-attachments/assets/ad3d7bd6-2e8e-4228-9f11-d77f016ce22d)

![image](https://github.com/user-attachments/assets/41495d8c-d43d-498d-9602-f2c66c5eb390)

![image](https://github.com/user-attachments/assets/6515bce0-5a95-4119-b9ef-b1e8d8111cb2)

# 人民币收支管理系统 - 全方位详细说明书

## 1. 项目概述

### 1.1 基本介绍
人民币收支管理系统是一款功能完善的个人/家庭财务记账工具，由杜玛开发，采用MIT开源许可证。系统支持多用户管理，数据隔离存储，并提供丰富的财务管理和统计分析功能。

### 1.2 主要功能
- 记录收入、支出、借款、还款等各类财务交易
- 多用户支持，数据隔离存储
- 智能分类管理，支持自定义分类
- 强大的统计分析和报表功能
- 数据备份与恢复机制
- 借款还款跟踪管理
- 拼音首字母快速搜索
- 自动定期备份数据
- 操作历史撤销功能
- 预算管理
- 多账户管理
- 数据加密
- 收据图片管理
- 汇率转换

## 2. 快速入门指南

### 2.1 安装要求
- Python 3.6+
- 必需库: PyQt5, sqlite3, pypinyin, Pillow, cryptography

### 2.2 首次使用步骤
1. 运行程序后，选择已有用户或创建新用户
2. 首次使用会自动创建默认分类(收入:工资、奖金等；支出:餐饮、购物等)
3. 系统会自动创建一个"现金账户"
4. 开始记录您的第一笔交易

## 3. 核心功能详解

### 3.1 交易管理
#### 3.1.1 添加交易
支持多种交易类型:
1. **收入** - 工资、奖金等
2. **支出** - 日常消费
3. **借款** - 借出款项
4. **还款** - 归还借款
5. **余额** - 系统自动计算的总余额
6. **账户结余** - 单个账户的余额统计

#### 3.1.2 定期交易
可设置周期性交易(每日/每周/每月/每年)，系统会在到期时提醒执行

#### 3.1.3 收据管理
可附加收据图片(JPG/PNG)，自动压缩存储

### 3.2 多账户管理
支持多个资金账户管理:
- 每个账户独立核算
- 支持不同货币(CNY/USD/EUR等)
- 账户间转账功能

### 3.3 借款管理
完整的借款流程跟踪:
- 记录借款金额、日期、关联账户
- 跟踪还款进度
- 自动计算剩余应还金额
- 支持部分还款和超额还款处理

### 3.4 预算管理
- 按月设置各类支出预算
- 实时监控预算执行情况
- 超支预警提醒

### 3.5 统计分析
丰富的可视化报表:
- 收支趋势图
- 分类占比饼图
- 借款还款柱状图
- 预算执行对比图

## 4. 数据安全与备份

### 4.1 数据加密
- 可选数据库加密功能
- 使用AES-256加密算法
- 基于密码的密钥派生

### 4.2 备份机制
- 自动备份(可设置间隔)
- 手动备份
- 备份恢复功能
- 备份文件版本管理

## 5. 高级功能

### 5.1 汇率转换
内置汇率转换工具，支持多种货币实时换算

### 5.2 批量操作
- 批量导出数据(CSV/Excel)
- 批量删除记录
- 批量修改分类

### 5.3 自定义设置
- 界面主题颜色
- 默认日期范围
- 自动备份策略

## 6. 技术架构

### 6.1 系统设计
- 客户端: PyQt5 (Python)
- 数据库: SQLite3
- 加密: Fernet (AES-256)

### 6.2 关键算法
- 数据加密: PBKDF2密钥派生
- 拼音搜索: 拼音首字母匹配
- 图表渲染: QtChart

## 7. 常见问题解答

### Q1: 如何迁移数据到新电脑?
A: 备份目录下的数据库文件可直接复制到新电脑的对应位置

### Q2: 忘记密码怎么办?
A: 系统不存储明文密码，如忘记密码需联系管理员重置

### Q3: 最大支持多少条记录?
A: 理论上无限制，实际取决于硬盘空间

## 8. 版本更新记录

### v3.21.0 (2025-06-14)
- 新增账户结余自动计算功能
- 优化借款还款管理流程
- 修复已知BUG

### v3.20.0 
- 新增汇率转换工具
- 改进数据备份机制
- 增强数据安全性

## 9. 开发者指南

### 9.1 二次开发
项目采用模块化设计，核心组件:
- `FinanceApp` - 主程序类
- `LoginDialog` - 用户登录
- `ProjectInfo` - 元数据管理

### 9.2 API接口
系统提供以下扩展点:
- 数据导入/导出接口
- 自定义报表生成
- 插件机制

## 10. 用户群体指南

### 10.1 个人用户
- 日常记账
- 预算控制
- 债务管理

### 10.2 家庭用户
- 多成员账本
- 家庭开支分析
- 共同预算

### 10.3 小微企业
- 简单收支记录
- 客户账款管理
- 经营分析

## 11. 附录

### 11.1 快捷键
- Ctrl+Z: 撤销
- F5: 刷新数据

### 11.2 技术支持
通过GitHub Issues提交问题:
https://github.com/duma520

---

本说明书将持续更新，请访问项目主页获取最新版本。
版权 © 永久 杜玛 保留所有权利
