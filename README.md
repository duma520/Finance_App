![image](https://github.com/user-attachments/assets/16296e97-9618-4825-9e0f-a4bf2682f5c2)

# 人民币收支管理系统 - 全方位使用说明书

## 目录
1. [系统概述](#系统概述)
2. [适用人群](#适用人群)
3. [安装与启动](#安装与启动)
4. [基础功能使用](#基础功能使用)
5. [高级功能详解](#高级功能详解)
6. [专业财务管理](#专业财务管理)
7. [数据安全与备份](#数据安全与备份)
8. [常见问题解答](#常见问题解答)
9. [版本更新历史](#版本更新历史)
10. [技术支持与版权](#技术支持与版权)

---

## 系统概述

人民币收支管理系统是一款功能完善的个人/家庭财务记账工具，由杜玛开发并维护。系统采用Python编写，基于PyQt5框架构建图形用户界面，使用SQLite作为数据库存储，支持多用户、数据加密、多种财务分析等功能。

### 核心功能
- 记录收入、支出、借款、还款等各类财务交易
- 多用户支持，数据隔离存储
- 智能分类管理，支持自定义分类
- 强大的统计分析和报表功能
- 数据备份与恢复机制
- 借款还款跟踪管理
- 拼音首字母快速搜索
- 自动定期备份数据
- 操作历史撤销功能
- 预算管理
- 多账户管理
- 数据加密
- 收据图片管理
- 汇率转换

---

## 适用人群

### 1. 个人用户
- **学生**：记录零花钱使用情况，培养理财习惯
- **上班族**：管理工资收入和日常开支，控制消费
- **自由职业者**：追踪项目收入和业务支出
- **退休人员**：管理养老金和医疗支出

### 2. 家庭用户
- **家庭主妇/主夫**：记录家庭日常开支，规划家庭预算
- **新婚夫妇**：共同管理家庭财务，建立透明消费
- **多子女家庭**：追踪不同家庭成员的开支

### 3. 小微企业
- **个体工商户**：简易记账，管理营业收入和成本
- **初创公司**：在没有专业财务系统前的过渡方案
- **自由职业团队**：管理项目收支和成员借款

### 4. 财务专业人士
- **个人理财顾问**：为客户演示基础财务规划
- **会计学生**：学习财务管理的实践工具
- **小型NGO**：管理组织的小额资金流动

---

## 安装与启动

### 系统要求
- 操作系统：Windows 7/10/11, macOS, Linux
- Python版本：3.7或更高
- 磁盘空间：至少50MB可用空间

### 安装步骤
1. 确保已安装Python环境
2. 安装依赖库：
   ```
   pip install PyQt5 sqlite3 pypython pillow cryptography
   ```
3. 下载程序文件`Finance_App.py`
4. 运行程序：
   ```
   python Finance_App.py
   ```

### 首次启动
1. 系统会自动创建`finance_master.db`主数据库文件
2. 创建默认用户"默认用户"
3. 自动创建备份目录`backups`

---

## 基础功能使用

### 1. 添加记录
**情景示例**：记录一顿午餐花费
1. 在类型下拉框选择"支出"
2. 输入金额"35.00"
3. 在类别中选择"餐饮"
4. 描述输入"公司附近牛肉面"
5. 点击"添加记录"按钮

**专业提示**：可以使用快捷键Alt+A快速添加记录

### 2. 搜索功能
**简单搜索**：在搜索框输入"牛肉面"可找到相关记录

**高级搜索**：
- 使用拼音首字母搜索：输入"nrm"可找到"牛肉面"
- 组合搜索：类型选"支出"，分类选"餐饮"，日期选最近一周

### 3. 删除记录
**错误修正**：如果误添加了记录
1. 在表格中选中要删除的记录
2. 点击"删除记录"按钮
3. 确认删除

**注意**：已关联的借款记录不能直接删除

---

## 高级功能详解

### 1. 多账户管理
**使用场景**：
- 区分现金、银行卡、支付宝等不同账户
- 管理不同币种账户

**专业设置**：
1. 通过"编辑"菜单→"管理账户"进入
2. 添加新账户时可设置初始余额和货币类型
3. 支持账户间转账记录

### 2. 预算管理
**家庭应用**：
- 设置每月餐饮预算3000元
- 系统会在支出接近预算时提醒

**企业应用**：
- 为不同项目设置独立预算
- 跟踪实际支出与预算差异

### 3. 借款管理
**个人借贷**：
1. 添加借款记录：类型选"借款"，输入金额和借款人
2. 还款时选择"还款"类型并关联原借款
3. 系统自动计算剩余待还金额

**商业应用**：
- 跟踪客户欠款
- 生成待还款报表

### 4. 定期交易
**固定收支**：
- 设置每月5日的工资收入
- 设置每月15日的房租支出
- 系统自动在指定日期生成交易记录

**专业设置**：
- 支持每日、每周、每月、每年不同频率
- 可设置结束日期

---

## 专业财务管理

### 1. 财务分析
**收支趋势图**：
- 按时间维度分析收支变化
- 识别消费高峰时段

**分类占比图**：
- 分析支出结构
- 找出可以优化的消费类别

### 2. 报表导出
**个人报税**：
- 导出年度收支CSV文件
- 作为税务申报的辅助材料

**商业报告**：
- 导出Excel格式的月度报表
- 包含详细交易数据和汇总统计

### 3. 数据加密
**安全设置**：
1. 通过"文件"菜单→"加密数据库"设置密码
2. 加密后数据库文件无法直接读取
3. 解密需要输入正确密码

**专业建议**：
- 对敏感财务数据启用加密
- 定期更换密码

---

## 数据安全与备份

### 1. 自动备份
- 默认每小时自动备份一次
- 备份文件存储在`backups`目录
- 可按需调整备份频率

### 2. 手动备份
**重要操作前**：
- 进行大范围数据修改前
- 升级系统版本前

### 3. 数据恢复
**灾难恢复步骤**：
1. 通过"文件"菜单→"恢复数据"
2. 选择备份文件
3. 确认覆盖当前数据

---

## 常见问题解答

### 一般问题
**Q**：如何切换用户？

**A**：通过"文件"菜单→"切换用户"，或使用快捷键Ctrl+U

**Q**：数据存储在什么地方？

**A**：每个用户的数据存储在独立的`finance_用户名.db`文件中

### 技术问题
**Q**：如何迁移数据到新电脑？

**A**：复制`finance_用户名.db`文件和`backups`目录到新电脑

**Q**：忘记加密密码怎么办？

**A**：没有后门可恢复，请妥善保管密码

### 专业问题
**Q**：如何实现多币种管理？

**A**：通过账户管理设置不同币种账户，使用汇率转换功能换算

**Q**：能否生成符合会计标准的报表？

**A**：系统提供基础报表，专业会计可能需要进一步处理数据

---

## 版本更新历史

### 版本 3.4.0 (2025-05-26)
- 新增汇率转换器功能
- 优化定期交易执行逻辑
- 修复预算管理界面显示问题
- 增强数据导入导出稳定性

### 版本 3.3.0 (2025-04-15)
- 新增多账户支持功能
- 改进数据加密性能
- 优化统计图表显示
- 修复若干小错误

### 版本 3.2.0 (2025-03-01)
- 新增预算管理模块
- 改进用户界面配色方案
- 增强搜索功能
- 优化数据库结构

### 版本 3.1.0 (2025-01-10)
- 新增收据图片管理功能
- 改进借款还款跟踪
- 增加数据备份选项
- 修复已知问题

---

## 技术支持与版权

### 获取支持
- GitHub Issues: [https://github.com/duma520/issues](https://github.com/duma520/issues)
- 文档Wiki: [https://github.com/duma520/wiki](https://github.com/duma520/wiki)

### 版权声明
© 永久 杜玛 保留所有权利

### 许可条款
MIT License - 允许自由使用、修改和分发，但需保留版权声明

### 免责声明
本软件按"原样"提供，作者不对使用此软件产生的任何直接或间接损失负责。重要财务数据请务必定期备份。

---

**最后更新**：2025年5月26日  
**作者**：杜玛  
**项目地址**：[https://github.com/duma520](https://github.com/duma520)  

希望本说明书能帮助您充分利用人民币收支管理系统。如有任何改进建议，欢迎通过GitHub提交。
